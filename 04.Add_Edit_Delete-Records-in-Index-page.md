
# 1. Edit index.html file
## Job List ##
Edit "AddJob" in "Job Name" header:
```
<th scope="col">Job Name | <a href="{% url 'addjobs' %}">Add Job</a></th>
```
# 2. Create feature clicking to the job, department will show employees belong to them
## Click to job_name
- Create function show employees with a job
```
<th scope="col">Job Name | <a href="{% url 'addjobs' %}">Add Job</a></th>
```

# 3. Click job_name --> show all employees are working in this position
## views.py ##
Add function can list all employees as above requirements
```
def listEmpJob(request, jobid):
    cjob = jobs.objects.get(id=jobid) # get() - return single object and it's not iterable
    emplist = employees.objects.filter(job_id=jobid) # filter() will always give you a QuerySet
    #emplist = employees.objects.all()
    return render(
        request=request,
        template_name="jobs/listempjob.html",
        context={
            'cJob': cjob,
            'ListEmpJobs': emplist
        }
    )
```

## Create listempjob.html in jobs folder ##
```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        table, th, td {
          border: 1px solid black;
        }
    </style>
    <title>List all {{ cJob }}(s)</title>
</head>
<body>
    <p><h1>List all {{ cJob }}(s)</h1></p>
    <table>
        <tr>
            <th>Employee ID</th>
            <th>Employee Name</th>
            <th>Department Name</th>
            <th>Position</th>
        </tr>
        {% for emp in ListEmpJobs %} <!-- All_Emps was rendered from views -->
            <tr>
                <td>{{ emp.id }}</td> 
                <td>{{ emp.full_name }}</td>
                <td>{{ emp.dep_id }}</td>
                <td>{{ emp.job_id }}</td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>
```

## urls.py ###
Add below:
```
    #path("jobs/<int:jobid>", views.listEmpJob, name="listEmpJob"), # jobid must be from "listEmpJob(request, jobid)"
    url(r"^jobs/(?P<jobid>[0-9]+)$", views.listEmpJob, name="listEmpJob"), # ?P --> parameter, [0-9]+ is number with 2 digits
```

## index.html ##
Edit from
```
        {% for job in All_Jobs %} <!-- All_Jobs was rendered from views -->
            <tr>
                <td>{{ job.id }}</td> <!-- Table data -->
                <td>{{ job.job_name }}</td>
            </tr>
        {% endfor %}
```
To
```
        {% for job in All_Jobs %} <!-- All_Jobs was rendered from views -->
            <tr>
                <td><a href="{% url 'listEmpJob' jobid=job.id %}">{{ job.id }}</a></td> <!-- listEmpJob from url, jobid will be posted parameter -->
                <td>{{ job.job_name }}</td>
            </tr>
        {% endfor %}
```
